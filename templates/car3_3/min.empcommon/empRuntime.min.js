var EmpGlobalZoom=1,EmpGlobalLeft=0,EmpGlobalTop=0;function EmpAutoBodySize(){if(!isBuilderMode){var a=0,d=0,b=1,c=window.innerWidth,e=window.innerHeight;3==ResizePolicy?e>=winFixHeight&&c>=winFixWidth?(a=toInt((c-winFixWidth)/2),d=toInt((e-winFixHeight)/2),b=1):c/e>winFixWidth/winFixHeight?(b=e/winFixHeight,a=toInt((c-winFixWidth*b)/2)):(b=c/winFixWidth,d=toInt((e-winFixHeight*b)/2)):1==ResizePolicy?c>=winFixWidth?(b=1,a=toInt((c-winFixWidth)/2),d=toInt((e-winFixHeight)/2)):(b=c/winFixWidth,d=toInt((e-winFixHeight*b)/2),0>d&&(d=0),a=0):2==ResizePolicy?e>=winFixHeight?(b=1,a=toInt((c-winFixWidth)/2),d=toInt((e-winFixHeight)/2)):(b=e/winFixHeight,d=0,a=toInt((c-winFixWidth*b)/2)):(b=1,a=toInt((c-winFixWidth)/2),d=toInt((e-winFixHeight)/2),0>d&&(d=0),0>a&&(a=0));-1!==navigator.userAgent.indexOf("Firefox")?(document.body.style.left=a+"px",document.body.style.top=d+"px",document.body.style.MozTransformOrigin="top left",document.body.style.MozTransform="scale("+b+")"):-1!==navigator.userAgent.indexOf("Trident")||-1!==navigator.userAgent.indexOf("MSIE")?(document.body.style.left=toInt(a)+"px",document.body.style.top=toInt(d)+"px",document.body.style.zoom=b,EmpGlobalZoom=1,EmpGlobalLeft=toInt(a),EmpGlobalTop=toInt(d)):(document.body.style.left=toInt(a/b)+"px",document.body.style.top=toInt(d/b)+"px",EmpGlobalZoom=document.body.style.zoom=b,EmpGlobalLeft=toInt(a/b),EmpGlobalTop=toInt(d/b))}}function cancelTrans(a){a=a?a:window.event;window.event?a.cancelBubble=!0:a.stopPropagation()}function EmpDetectZoom(){var a=0,d=window.screen,b=navigator.userAgent.toLowerCase();void 0!==window.devicePixelRatio?a=window.devicePixelRatio:~b.indexOf("msie")?d.deviceXDPI&&d.logicalXDPI&&(a=d.deviceXDPI/d.logicalXDPI):void 0!==window.outerWidth&&void 0!==window.innerWidth&&(a=window.outerWidth/window.innerWidth);return a}function EmpGetSelfUrl(a){var d=window.location.href.split("?");if(2!=d.length)return"";for(var b in d[1]){var c=d[1].split("\x26"),e;for(e in c){var k=c[b].split("\x3d");if(k&&k[0]==a)return k[1]}}return""}var EmpSortBy=function(a){return function(d,b){var c,e;if("object"===typeof d&&"object"===typeof b&&d&&b)return c=d[a],e=b[a],c===e?0:typeof c===typeof e?c<e?-1:1:typeof c<typeof e?-1:1;throw"error";}};function toInt(a){return a&&+a|0||0}function EmpApplyKeyframeByJs(a,d,b){for(var c=[],e=a.data.sort(EmpSortBy("index")),k=0;k<a.count-1;++k)if(d>=e[k].index&&d<=e[k+1].index){var l=(d-e[k].index)/(e[k+1].index-e[k].index),g;for(g in e[k])c[g]=e[k][g]+(e[k+1][g]-e[k][g])*l}a=a.css;d={};var h,m,p,n,f;for(f in a)"background-color"==a[f]||"color"==a[f]?d[a[f]]="rgba("+toInt(c[a[f]+".r"])+","+toInt(c[a[f]+".g"])+","+toInt(c[a[f]+".b"])+","+c[a[f]+".a"]+")":"left"==a[f]||"top"==a[f]||"width"==a[f]||"height"==a[f]||"font-size"==a[f]||"text-indent"==a[f]||"letter-spacing"==a[f]?d[a[f]]=c[a[f]]+"px":"opacity"==a[f]||"font-weight"==a[f]||"line-height"==a[f]?d[a[f]]=c[a[f]]:"transform-origin"==a[f]?d[a[f]]=toInt(c[a[f]+".x"])+","+toInt(c[a[f]+".y"]):"box-shadow"==a[f]||"text-shadow"==a[f]?d[a[f]]=toInt(c[a[f]+".x"])+"px "+toInt(c[a[f]+".y"])+"px "+toInt(c[a[f]+".z"])+"px rgb("+toInt(c[a[f]+".r"])+","+toInt(c[a[f]+".g"])+","+toInt(c[a[f]+".b"])+")":"Transform.1RotateAngleDegree"==a[f]?n=" rotate("+c.rotate+"deg) ":"Transform.2SkewDegree"==a[f]?p=" skew("+c["skew.x"]+"deg,"+c["skew.y"]+"deg) ":"Transform.3Scale"==a[f]?m=" scale("+c["scale.x"]+","+c["scale.y"]+") ":"Transform.0Trans"==a[f]&&(h=" translate("+c["translate.x"]+"px,"+c["translate.y"]+"px) ");if(n||p||m||h)d.transform=(h?h:"")+(n?n:"")+(p?p:"")+(m?m:"");jQuery("#"+b).css(d)}var precentX=0,precentY=0,minPrecentY=null,maxPrecentY=null,factorY=null,minPrecentX=null,maxPrecentX=null,factorX=null;function setRangeSwipeMoveX(a,d,b){minPrecentX=a;maxPrecentX=d;factorX=b}function setRangeSwipeMoveY(a,d,b){minPrecentY=a;maxPrecentY=d;factorY=b}function empSwipeMove(a,d){a.preventDefault();d.originalEvent.preventDefault();var b=d.description.split(":");switch(b[0]){case "swipemove":if(1!=b[1])break;precentY+=d.delta[0].startY;precentX+=d.delta[0].startX;null!=maxPrecentY&&null!=minPrecentY&&null!=factorY&&(minPrecentY>=maxPrecentY?precentY=0:precentY>maxPrecentY/factorY?precentY=maxPrecentY/factorY:precentY<minPrecentY/factorY&&(precentY=minPrecentY/factorY));null!=maxPrecentX&&precentX>maxPrecentX/factorX?precentX=maxPrecentX/factorX:null!=minPrecentX&&precentX<minPrecentX/factorX&&(precentX=minPrecentX/factorX);for(var c in swipemoveData)swipemoveData[c](precentX,precentY)}}function createEmpButton(a,d,b,c,e){var k=empGetElementByID(a,"div",null),l=empGetElementByID(a+"_button","div",k);k.appendChild(l);var g=d.normal,h=d.pressed?d.pressed:d.normal,m=d.hover?d.hover:d.normal;l.style.cssText=b;d.color&&jQuery(l).css("background-color",d.color);g&&jQuery(l).css("background-image",d.normal);jQuery(k).bind("touchstart mousedown",function(){jQuery(l).css({transform:"translate("+c+"px,"+e+"px)"});h&&jQuery(l).css("background-image",d.pressed);jQuery(document.body).one("touchend mouseup",function(){jQuery(l).css({transform:"translate(0px,0px)"});g&&jQuery(l).css("background-image",d.normal)})});d.hover&&(jQuery(k).mouseenter(function(){jQuery(l).css({transform:"translate(0px,0px)"});m&&jQuery(l).css("background-image",d.hover)}),jQuery(k).mouseleave(function(){jQuery(l).css({transform:"translate(0px,0px)"});g&&jQuery(l).css("background-image",d.normal)}));return l}function createZoomLens(a,d,b,c,e,k,l,g){var h=empGetElementByID(a,"div",null),m=empGetElementByID(a+"_zoomlens","div",h);h.appendChild(m);var h="border-radius:1024px;",p=parseInt(g.size)||0;g=g.color||"0xffffff";c!=e&&(h="");var h=h+("border: "+p+"px solid "+g+";"),n=parseInt(jQuery("#"+a).css("width")),f=parseInt(jQuery("#"+a).css("height"));m.style.cssText="visibility:hidden; pointer-events: none;"+h+" background-image:url('"+b+"');background-size:"+d*n/c+"% "+d*f/e+"%;background-repeat:no-repeat;position:absolute;left:0px;top:0px;width:"+c+"px;height:"+e+"px;opacity:1;";jQuery("#"+a+"_zoomlens").attr("emplenshidden",1);jQuery("#"+a).bind("touchmove mousemove",function(b){if(1!=jQuery("#"+a+"_zoomlens").attr("emplenshidden")){b.preventDefault();var g=!!b.originalEvent.touches,h=g?b.originalEvent.touches[0].pageX/EmpGlobalZoom-EmpGlobalLeft-b.originalEvent.currentTarget.offsetLeft:b.originalEvent.offsetX/EmpGlobalZoom,m=g?b.originalEvent.touches[0].pageY/EmpGlobalZoom-EmpGlobalTop-b.originalEvent.currentTarget.offsetTop:b.originalEvent.offsetY/EmpGlobalZoom,g=100*h/b.originalEvent.currentTarget.clientWidth;b=100*m/b.originalEvent.currentTarget.clientHeight;0>g||100<g||0>b||100<b||(jQuery("#"+a+"_zoomlens").css("visibility","visible"),h-=.5*c,m-=.5*e,g=-1*(d*n/100*g/100-c/2),b=-1*(d*f/100*b/100-e/2),jQuery("#"+a+"_zoomlens").css({left:k+h+"px",top:l+m+"px"}),jQuery("#"+a+"_zoomlens").css("background-position",g+"px "+b+"px"))}});jQuery("#"+a).bind("touchstart mousedown",function(){jQuery("#"+a+"_zoomlens").attr("emplenshidden",0);jQuery("#"+a).one("touchend mouseup",function(){jQuery("#"+a+"_zoomlens").css("visibility","hidden");jQuery("#"+a+"_zoomlens").attr("emplenshidden",1)});jQuery(document.body).one("touchend mouseup",function(){jQuery("#"+a+"_zoomlens").css("visibility","hidden");jQuery("#"+a+"_zoomlens").attr("emplenshidden",1)})})}function createSwitchImage(a){var d=!1,b=empGetElementByID(a.divid,"div",null),c=empGetElementByID(a.divid+"_mask","div",b);c.style.backgroundImage="url('"+a.maskImg+"')";c.style.backgroundSize="100% 100%";c.style.backgroundRepeat="no-repeat";c.style.pointerEvents="none";c.style.width=a.verticalFlag?"0px":b.style.width;c.style.height=a.verticalFlag?b.style.height:"0px";c.style.left="0px";c.style.top="0px";c.style.position="absolute";c=empGetElementByID(a.divid+"_seperator","div",b);c.style.backgroundImage="url('"+a.seperatorImg+"')";c.style.backgroundSize="100% 100%";c.style.backgroundRepeat="no-repeat";c.style.pointerEvents="none";c.style.width=a.verticalFlag?a.sepWidth+"px":parseInt(b.style.width)+2*a.sepWidth+"px";c.style.height=a.verticalFlag?parseInt(b.style.height)+2*a.sepHeight+"px":a.sepHeight+"px";c.style.left=a.verticalFlag?-.5*a.sepWidth+"px":-1*a.sepWidth+"px";c.style.top=a.verticalFlag?-1*a.sepHeight+"px":-.5*a.sepHeight+"px";c.style.position="absolute";jQuery("#"+a.divid).bind("touchmove mousemove",function(b){if(0!=d){b.preventDefault();var c=!!b.originalEvent.touches,l=c?b.originalEvent.touches[0].pageX/EmpGlobalZoom-EmpGlobalLeft-b.originalEvent.currentTarget.offsetLeft:b.originalEvent.offsetX/EmpGlobalZoom,c=c?b.originalEvent.touches[0].pageY/EmpGlobalZoom-EmpGlobalTop-b.originalEvent.currentTarget.offsetTop:b.originalEvent.offsetY/EmpGlobalZoom,g=100*l/b.originalEvent.currentTarget.clientWidth,h=100*c/b.originalEvent.currentTarget.clientHeight;0>g&&(l=g=0);100<g&&(g=100,l=b.originalEvent.currentTarget.clientWidth);0>h&&(c=h=0);100<h&&(h=100,c=b.originalEvent.currentTarget.clientHeight);a.verticalFlag?jQuery("#"+a.divid+"_mask").css({width:l+"px","background-size":1E4/g+"% 100%"}):jQuery("#"+a.divid+"_mask").css({height:c+"px","background-size":"100%"+1E4/h+"%"});a.verticalFlag?jQuery("#"+a.divid+"_seperator").css({left:l-.5*a.sepWidth+"px"}):jQuery("#"+a.divid+"_seperator").css({top:c-.5*a.sepHeight+"px"});b.preventDefault()}});jQuery("#"+a.divid).bind("touchstart mousedown",function(){d=!0;jQuery("#"+a.divid).one("touchend mouseup",function(){d=!1});jQuery(document.body).one("touchend mouseup",function(){d=!1})})}function empGetElementByID(a,d,b,c){var e=document.getElementById(a);null==e&&(e=document.createElement(d),e.id=a,b?b.appendChild(e):document.body.appendChild(e),"function"===typeof c&&c(e));return e}function empDeleteElementByID(a){(a=document.getElementById(a))&&a.parentNode.removeChild(a)}function empShowElementByID(a,d){var b=document.getElementById(a);b&&(b.style.visibility=d)}function empSetPEElementByID(a,d){var b=document.getElementById(a);b&&(b.style.pointerEvents=d)}function empSetOpacityElementByID(a,d){var b=document.getElementById(a);b&&(b.style.opacity=d)}function empSetFullScreen(a){a.requestFullscreen?a.requestFullscreen():a.requestFullScreen?a.requestFullScreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()}function empExitFullScreen(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}function empIsFullScreen(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled}window.addEventListener("load",function(){EmpAutoBodySize()},!1);isBuilderMode||window.addEventListener("resize",EmpAutoBodySize,!1);